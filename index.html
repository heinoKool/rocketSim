<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Mission Control â€“ Raketenstart</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Roboto+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
</head>
<body>
  <div id="stars"></div>
  <div id="stars2"></div>
  <div id="stars3"></div>
  <header>
    <h1>ğŸ›°ï¸ BSINFO im All</h1>
  </header>

  <main>
    <section class="panel half" id="code-panel">
      <h2>1. Rakete.java â€“ LÃ¼cken fÃ¼llen</h2>
      <p>Trage die fehlenden Bausteine ein (Variablennamen, Zahlen, Bedingungen). Fehler werden sofort angezeigt.</p>
        <div id="raketePuzzle">
        <p><strong>Drag & Drop Puzzle:</strong> Ziehe die passenden Code-StÃ¼cke in die LÃ¼cken.</p>
        <div class="puzzle-layout">
          <div class="code-area">
          <pre class="code-block"><code>
    class Rakete {
      String name;            // Name der Rakete
      int fuel;               // aktuelle Treibstoffmenge

      // Konstruktor mit Ãœbergabeparameter
      Rakete(<span class="drop" data-slot="ctorParam"></span>) {
        name = <span class="drop" data-slot="nameAssign"></span>;
        fuel = <span class="drop" data-slot="fuelInit"></span>;
      }

      // Methode zum Tanken (mit Menge)
      void refuel(int amount) {
        fuel = fuel + <span class="drop" data-slot="amountVar"></span>;
      }

      // Methode zum Volltanken
      void refuel() {
        fuel = <span class="drop" data-slot="fuelFull"></span>;
      }

      // Startmethode
      void start() {
        if (fuel > <span class="drop" data-slot="fuelThresh"></span>) {
          if (name != null) {
            for (int i = <span class="drop" data-slot="countStart"></span>; i >= 0; i--) {
              System.out.println("T-Minus " + i);
            }
            System.out.println("Rakete: " + name + " startet - Ciao Welt");
          }
        } else {
          System.out.println("Start nicht mÃ¶glich.");
        }
      }
    }
          </code></pre>
          </div>
          <div class="token-bank" aria-label="Code Fragmente">
          <h3>Code Fragmente</h3>
          <div id="tokens" class="tokens"></div>
          <button type="button" id="resetPuzzle">ZurÃ¼cksetzen</button>
          </div>
        </div>
        <div id="raketeErrors" class="errors"></div>
        </div>
    </section>

    <section class="panel half" id="mission-panel">
      <h2>2. MissionControl.java â€“ Parameter wÃ¤hlen</h2>
      <p>WÃ¤hle einen Namen fÃ¼r deine Rakete und entscheide, wie sie betankt wird.</p>
      <div class="hud">
        <div class="hud-item">
          <span class="label">Mission:</span>
          <span id="hudMission" class="value">â€”</span>
        </div>
        <div class="hud-item fuel">
          <span class="label">Fuel</span>
          <div class="bar"><div id="hudFuelFill" class="fill" style="width:0%"></div></div>
          <span id="hudFuelPct" class="pct">0%</span>
        </div>
        <div class="hud-item status">
          <span class="label">Status</span>
          <span id="hudStatusLamp" class="lamp off"></span>
          <span id="hudStatusText" class="value">UngeprÃ¼ft</span>
        </div>
      </div>
      <form id="missionForm">
        <label>Raketenname:
          <input type="text" name="rocketName" id="rocketName" placeholder="Apollo" required />
        </label>
        <fieldset>
          <legend>Betankung</legend>
          <label><input type="radio" name="fuelMode" value="amount" checked /> Mit Menge</label>
          <label><input type="radio" name="fuelMode" value="full" /> Volltanken</label>
        </fieldset>
        <label id="fuelAmountLabel">Menge (0â€“100):
          <input type="number" name="fuelAmount" id="fuelAmount" min="0" max="100" value="90" />
        </label>
        <div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
          <button type="button" id="generateCode">Code anzeigen</button>
          <button type="button" id="validateBtn">Code prÃ¼fen</button>
          <button type="button" id="launchBtn" disabled>ğŸš€ Launch Rakete</button>
        </div>
      </form>
      <pre class="code-block" id="missionCode"></pre>
      <div id="missionErrors" class="errors"></div>
    </section>
  </main>

  <!-- Modal fÃ¼r Konsole + Simulation -->
  <div id="launchModal" class="modal-overlay" style="display:none;">
    <div class="modal">
      <div class="modal-header">
        <h3>ğŸš€ Launch â€“ <span id="modalMissionName">Mission</span></h3>
        <button type="button" id="closeModal" aria-label="SchlieÃŸen">âœ–</button>
      </div>
      <div id="console" class="console"></div>
      <div id="simContainer"></div>
    </div>
  </div>

  <footer>
    <p>Viel Spass @bsinfo</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>